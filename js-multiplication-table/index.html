<html>
<head>
    <title>Interactive Multiplication Table</title>
<!--
// TODO: get background from
// http://subtlepatterns.com/
-->

<link rel="stylesheet" type="text/css" href="css/simplegrid.css" />
<link rel="stylesheet" type="text/css" href="css/mulTbl/jquery-ui-1.9.0.custom.min.css" />
<style type="text/css">
  body {
      margin: 0;
      padding: 0;
  }

  .content-link { 
      color: white;
      font-size: smaller !important; 
  }

  .content-label { 
      color: white;
  }

  .content-square {
  }
</style>
<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/jquery-ui-1.9.0.custom.min.js"></script>
<script type="text/javascript">
    // TODO: extract out into its own file

    $(document).ready(function(){
        (new MulTable());
    });

    function MulTable(){
        var that = this;

        that.render();

        // Setup event handlers
        jQuery('#hide-all').click(function(){ that.adjustAll(false); });
        jQuery('#show-all').click(function(){ that.adjustAll(true); });
    }

    MulTable.prototype.adjustAll = function(value){
        var that = this;

        jQuery('input:checkbox', '#tbl').each(function(){
            jQuery(this).prop('checked', value)
                        .button('refresh');
            if (value){
                that.showButton(this);
            } else {
                that.hideButton(this);
            }
        });
    }

    MulTable.prototype.showButton = function(jqButton){
        $('.ui-button-text', jqButton.parentNode).text(
            $('label', jqButton.parentNode).attr('value'));
    }

    MulTable.prototype.hideButton = function(jqButton){
        $('.ui-button-text', jqButton.parentNode).html(
            "&nbsp;");
    }

    MulTable.prototype.render = function(){
        var r, row, c, col, id;

        for (r=0; r < 11; r++){
            row = $('<div class="grid grid-pad"></div>');
            for (c=0; c < 11; c++){

                if (r === 0 && c === 0){
                    col = $('<div class="col-1-11">&nbsp;</div>');
                } else if (r === 0){
                    col = $('<div class="col-1-11"><div class="content content-label" style="text-align: center;">' + 
                        c + '</div></div>');
                } else if (c === 0){
                    col = $('<div class="col-1-11"><div class="content content-label" style="text-align: right;">' + 
                        r + '</div></div>');
                } else {
                    col = $('<div class="col-1-11"><div class="content content-square">' + 

                    // (r * c)
                    '<input type="checkbox" id="check_' + r + '_' + c + '" /><label style="width: 100%;" for="check_' + r + '_' + c + '" value="'+ (r * c) +'">&nbsp;</label>' +

                    '</div></div>');
                }
                row.append(col);
            }
            $('#tbl').append(row);
        }

        $('#tbl').append($('<div> &nbsp; </div>'));
        for (r=0; r < 11; r++){
            for (c=0; c < 11; c++){
                id = '#check_' + r + '_' + c;
                $(id)
                    .button()
                    .click(function(){
                       if ($(this).is(':checked')){
                           $('.ui-button-text', this.parentNode).text(
                               $('label', this.parentNode).attr('value'));
                       } else {
                           $('.ui-button-text', this.parentNode).html(
                               "&nbsp;");
                       }
                    });
            }
        }
    }
</script>
</head>
<body style='background: url("wood_pattern/wood_pattern.png") repeat scroll 0 0 transparent;'>
  <span class="mulTbl">
    <h1 class="mulTbl ui-widget-header" style="font-size: largest; text-align: center; margin-top: 0px; margin-bottom: -20px;">Multiplication Table</h1>
  </span>
  <div id="main-content" class="mulTbl">
  <div class="mulTbl ui-widget content-link" style="margin-top: 2%; margin-left: 2%; margin-right: 2%; margin-bottom: -1.75%;">
    <a href="index.html">Basic</a>
    <a href="#">Advanced (TODO)</a>
  </div>
    <div id="tbl" class="ui-widget" style="background-color: rgba(66, 66, 66, 0.5); margin: 2%;">
        <div style="position: relative; top: 25; left: 5;">
         <div style="position: absolute;">
          <a class="ui-widget content-link" href="#" id="hide-all">Hide All</a> <br />
          <a class="ui-widget content-link" href="#" id="show-all">Show All</a>
         </div>
        </div>
    </div>
  </div>
</body>
</html>
 
